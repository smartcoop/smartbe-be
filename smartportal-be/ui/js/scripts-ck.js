// Script to ajaxify the Newsletter form
// -------------------------------------
$("#newsletter").submit(function(e){e.preventDefault();var t=$(this);$input=$("#newsletter input[type=email]");console.log($input);if(!$input.val()){alert(t.data("empty-email-msg"));$input.focus();return!1}$.getJSON(this.action+"?callback=?",$(this).serialize(),function(e){if(e.Status===400){alert(t.data("invalid-email-msg"));$input.focus()}else{$input.val("").attr("placeholder",t.data("subscribed-msg")).blur();$("#newsletter button").addClass("done")}})});$(function(){$(".feed-container").each(function(){var e=$(this),t=$(this).data("feed-url"),n=$(this).data("feed-entries-count")?$(this).data("feed-entries-count"):5,r="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+n+"&output=json&q="+encodeURIComponent(t)+"&hl=en&callback=?";$.ajax({url:r,dataType:"json",type:"GET",success:function(t){var n='<ul class="post-list">';$.each(t.responseData.feed.entries,function(e,t){var r=t.title,i=t.link,s=new Date(t.publishedDate);n+='<li class="item"><a href="'+i+'">'+r+'</a><span class="date">'+s.getDate()+"/"+(s.getMonth()+1)+"/"+s.getFullYear()+"</span></li>"});n+="</ul>";e.append(n)},error:function(){console.log("I am sorry, But I can't fetch that feed")}})})});